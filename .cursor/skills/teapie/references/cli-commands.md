# CLI Commands Reference

Complete reference for all TeaPie CLI commands.

## `test` command (default)

**Command name:** `test`, `t` or **nothing** (default command)

**Purpose:** Runs tests from the collection or test case at the specified path.

**Full Syntax:**

```sh
teapie test [path] [--temp-path <path>] [-e|--env <envName>] [--env-file <file>] [-r|--report-file <file>] [-i|--init-script <script>] [--no-cache-vars] [--log-file <file>] [--log-file-log-level <level>] [--requests-log-file <file>] [-l|--log-level <level>] [-d|--debug] [-v|--verbose] [-q|--quiet] [--no-logo]
```

**Arguments:**

- `path` - Path to the collection or test case. Defaults to current directory.

**Options:**

- `--temp-path` - Temporary path for the application. Defaults to system temp folder with TeaPie sub-folder.
- `-e`, `--env`, `--environment` - Name of the environment on which tests will run.
- `--env-file`, `--environment-file` - Path to environment definitions file. Auto-detects `env.json` if not provided.
- `-r`, `--report-file` - Path for JUnit XML report file.
- `-i`, `--init-script`, `--initialization-script` - Custom initialization script. Auto-detects `init.csx` if not provided.
- `--no-cache-vars`, `--no-cache-variables` - Disable variable caching.
- `--log-file` - Path to log file.
- `--log-file-log-level` - Log level for file (Trace, Debug, Information, Warning, Error, Critical, None). Default: Information.
- `--requests-log-file` - Path for HTTP requests JSON log file.
- `-l`, `--log-level` - Console log level.
- `-d`, `--debug` - Display debug information.
- `-v`, `--verbose` - Display all information including debug.
- `-q`, `--quiet` - Run silently (no output).
- `--no-logo` - Suppress logo display.

**Exit Codes:**

- `0` - Success (all tests passed)
- `1` - Error during execution
- `2` - Some tests failed
- `130` - Premature termination (Ctrl+C)

## `generate` command

**Command name:** `generate`, `gen`, or `g`

**Purpose:** Generates new test case with optional files.

**Full Syntax:**

```sh
teapie generate <test-case-name> [path] [-i|--init|--pre-request] [-t|--test|--post-response] [--no-logo]
```

**Arguments:**

- `test-case-name` - Name of test case to be generated (required).
- `path` - Path where test case will be created (optional).

**Options:**

- `-i`, `--init`, `--pre-request` - Generate pre-request script (`<name>-init.csx`).
- `-t`, `--test`, `--post-response` - Generate post-response script (`<name>-test.csx`).
- `--no-logo` - Suppress logo display.

**Generated Files:**
- `<name>-req.http` - Request file (always generated)
- `<name>-init.csx` - Pre-request script (if `-i` is set)
- `<name>-test.csx` - Post-response script (if `-t` is set)

## `init` command

**Command name:** `init` or `i`

**Purpose:** Initialize `.teapie` folder and update `.gitignore`.

**Full Syntax:**

```sh
teapie init [path-to-teapie-folder] [--no-logo]
```

**Arguments:**

- `path` - Optional path for `.teapie` folder. Auto-detects repository root if not provided.

**Options:**

- `--no-logo` - Suppress logo display.

**Creates:**

- `.teapie` folder
- Updates `.gitignore` with TeaPie-specific entries:
  - `**/.teapie/cache/`
  - `**/.teapie/reports/`
  - `**/.teapie/runs/`

## `explore` command

**Command name:** `explore`, `exp`, or `e`

**Purpose:** Explore collection/test case structure without running tests.

**Full Syntax:**

```sh
teapie explore [path] [--env-file <file>] [-i|--init-script <script>] [logging options...] [--no-logo]
```

**Arguments:**

- `path` - Path to collection or test case. Defaults to current directory.

**Options:**

- `--env-file`, `--environment-file` - Environment file. Auto-detects `env.json` if not provided.
- `-i`, `--init-script`, `--initialization-script` - Initialization script. Auto-detects `init.csx` if not provided.
- Logging options: `--log-file`, `--log-file-log-level`, `-l|--log-level`, `-d|--debug`, `-v|--verbose`, `-q|--quiet`
- `--no-logo` - Suppress logo display.

## `compile` command

**Command name:** `compile`, `comp`, or `c`

**Purpose:** Compile a script at the specified path. Check for compile-time exceptions.

**Full Syntax:**

```sh
teapie compile <path> [logging options...] [--no-logo]
```

**Arguments:**

- `path` - Path to script to compile (required).

**Options:**

- Logging options: `--log-file`, `--log-file-log-level`, `-l|--log-level`, `-d|--debug`, `-v|--verbose`, `-q|--quiet`
- `--no-logo` - Suppress logo display.

## `cache clear` command

**Command name:** `cache clear`

**Purpose:** Clear cache files generated by TeaPie.

**Full Syntax:**

```sh
teapie cache clear [-g|--glob|--global] [--no-logo]
```

**Options:**

- `-g`, `--glob`, `--global` - Clear global cache in system temporary folder.
- `--no-logo` - Suppress logo display.

## Log Level Resolution Priority

When multiple log level options are specified, priority is:

1. `--quiet` → `LogLevel.None` (silences all output)
2. `--debug` → `LogLevel.Debug`
3. `--verbose` → `LogLevel.Trace`
4. `--log-level` → specified level
5. Default → `LogLevel.Information`
